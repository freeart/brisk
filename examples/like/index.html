<!DOCTYPE html>
<html>
<head>
	<script src="http://code.jquery.com/jquery-1.7.js" type="text/javascript"></script>
	<script src="../../brisk.js" type="text/javascript"></script>

	<script src="./actions/common.js" type="text/javascript"></script>
	<script src="./actions/rate.js" type="text/javascript"></script>
</head>
<body>
<div class="success">Success: <a href="#" class="like" data-id="42" data-rate="1" role="block">&hearts;&nbsp;<em>1</em></a></div>
<div class="error">Error: <a href="#" class="like" data-id="42" data-rate="1" role="block">&hearts;&nbsp;<em>1</em></a></div>
<script type="text/javascript">

	var pageConfig = {
		'.success .like':{
			click:{
				action:['common.stopEvent', 'common.addLoader', 'common.dataGrabber', 'rate.before', 'rate.success', 'common.render'],
				always:'common.removeLoader',
				fail:'rate.rollback',
				done:'common.success'
			}
		},
		'.error .like':{
			click:{
				action:['common.stopEvent', 'common.addLoader', 'common.dataGrabber', 'rate.before', 'rate.error', 'common.render'],
				always:'common.removeLoader',
				fail:'rate.rollback',
				done:'common.success'
			}
		}
	}

	$(document).ready(function () {
		$.brisk(pageConfig, window.App.actions);
	});
</script>
</body>
</html>